import { createWalletClient, http, publicActions, custom, } from "viem";
import { privateKeyToAccount } from "viem/accounts";
import { getChainConfirmations } from "./utils/getChainConfirmations.js";
import { getChainSpecs } from "../utils/index.js";
export const customTransport = custom;
const createEthClient = (chain, jsonRpcUrl, transport) => createWalletClient({
    chain,
    transport: transport || http(jsonRpcUrl),
}).extend(publicActions);
export function createContext(config, transport) {
    const chain = getChainSpecs(config.chainName);
    const jsonRpcUrl = config.jsonRpcUrl ?? chain.rpcUrls.default.http[0];
    return {
        ...config,
        chain,
        account: config.privateKey && privateKeyToAccount(config.privateKey),
        jsonRpcUrl,
        ethClient: createEthClient(chain, jsonRpcUrl, transport),
        confirmations: getChainConfirmations(config.chainName),
    };
}
//# sourceMappingURL=createContext.js.map